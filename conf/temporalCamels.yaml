defaults:
    - _self_
    - hydra: settings
    - observations: camels_531  # camels_531, camels_671


## General -------------------------------#
mode: train_test # train, test, train_test
multimodel_type: none
random_seed: 111111
device: cuda
gpu_id: 0

data_loader: HydroLoader
data_sampler: HydroSampler
trainer: Trainer
save_path: /global/homes/n/nrk5343/output/Camels_results


## Training ------------------------------#
train:
    start_time: 1999/10/01
    end_time: 2008/09/30
    target: [streamflow]
    optimizer: Adadelta
    batch_size: 128
    epochs: 5
    start_epoch: 0
    save_epoch: 5

test:
    start_time: 1989/10/01
    end_time: 1999/09/30
    batch_size: 128
    test_epoch: 5

simulation:
    start_time: 2001/01/01
    end_time: 2001/12/31
    batch_size: 400

test_mode:
  type: temporal # Options: temporal, spatial
  gage_split_file: /global/homes/n/nrk5343/Data/gages_list_with_pub.csv
  extent: PUR   # Options: PUR, PUB
  holdout_indexs: [0,1,2,3,4,5,6]  # List based on region config (0-6 PUR, 0-10 PUB)
  
  # Region Configuration for PUR (only needed when extent is PUR)
  huc_regions:
    - [1, 2]
    - [3, 6]
    - [4, 5, 7]
    - [9, 10]
    - [8, 11, 12, 13]
    - [14, 15, 16, 18]
    - [17]
  
  # Region config for PUB (only needed when extent is PUB)
  PUB_ids: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]  # List of PUB IDs for potential feature designs

# Loss Function
loss_function:
    model: RmseLoss
# Model Configuration
delta_model:
    rho: 365
    
    phy_model:
        model: [HBV_1_1p]
        nmul: 16
        warm_up: 365
        warm_up_states: False
        dy_drop: 0.0
        dynamic_params:
            HBV_1_1p: [parBETA, parBETAET, parK0]

        routing: True
        use_log_norm: []
        nearzero: 1e-5

        forcings: [
            prcp,
            tmean,
            pet
        ]
        attributes: []

    nn_model:
        model: LstmModel
        dropout: 0.5
        hidden_size: 256
        learning_rate: 1.0
        
        forcings: [
            prcp,
            tmean,
            pet
        ]
        attributes: [
            p_mean,
            pet_mean,
            p_seasonality,
            frac_snow,
            aridity,
            high_prec_freq,
            high_prec_dur,
            low_prec_freq,
            low_prec_dur,
            elev_mean,
            slope_mean,
            area_gages2,
            frac_forest,
            lai_max,
            lai_diff,
            gvf_max,
            gvf_diff,
            dom_land_cover_frac,
            dom_land_cover,
            root_depth_50,
            soil_depth_pelletier,
            soil_depth_statsgo,
            soil_porosity,
            soil_conductivity,
            max_water_content,
            sand_frac,
            silt_frac,
            clay_frac,
            geol_1st_class,
            glim_1st_class_frac,
            geol_2nd_class,
            glim_2nd_class_frac,
            carbonate_rocks_frac,
            geol_porosity,
            geol_permeability
        ]
