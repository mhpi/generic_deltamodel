{
    "defaults": [
        "_self_",
        {
            "hydra": "settings"
        },
        {
            "observations": "merit"
        }
    ],
    "mode": "train",
    "random_seed": 111111,
    "device": "cuda",
    "gpu_id": 0,
    "data_loader": "MtsHydroLoader",
    "data_sampler": "MtsHydroSampler",
    "trainer": "MtsTrainer",
    "save_path": "/storage/group/cxs1024/default/wby5078/data/distributed-ds-camels/trained_models/h-dhbv2_3/",
    "model_path": "/storage/group/cxs1024/default/wby5078/data/distributed-ds-camels/trained_models/h-dhbv2_3/model/",
    "train": {
        "start_time": "1991/01/01",
        "end_time": "2003/12/31",
        "target": [
            "streamflow"
        ],
        "optimizer": "Adam",
        "batch_size": 100,
        "epochs": 30,
        "start_epoch": 0,
        "save_epoch": 1,
        "stride": 168,
        "chunk_year_size": 1
    },
    "valid": {
        "start_time": "2004/01/01",
        "end_time": "2008/12/31",
        "batch_size": 100
    },
    "test": {
        "start_time": "2009/01/01",
        "end_time": "2018/12/31",
        "batch_size": 100,
        "test_epoch": 20
    },
    "loss_function": {
        "model": "WeightedNSELossBatch",
        "loss_fn_params": {
            "alpha": 0.0,
            "gamma": 1.0,
            "max_w": 1.0
        }
    },
    "delta_model": {
        "rho": 365,
        "phy_model": {
            "name": [
                "Hbv_2_mts"
            ],
            "high_freq_model": {
                "model": [
                    "Hbv_2_hourly"
                ],
                "nmul": 1,
                "warm_up": 0,
                "warm_up_states": true,
                "dy_drop": 0.0,
                "dynamic_params": {
                    "Hbv_2_hourly": [
                        "parBETA",
                        "parK0",
                        "parBETAET"
                    ]
                },
                "routing": false,
                "use_log_norm": [],
                "nearzero": 1e-05,
                "forcings": [
                    "P",
                    "Temp",
                    "PET"
                ],
                "attributes": [],
                "window_size": 336,
                "train_warmup": 168,
                "agg_timescale_dim": [
                    0,
                    2
                ],
                "train_spatial_chunk_size": 32768,
                "simulate_spatial_chunk_size": 500,
                "simulate_temporal_chunk_size": 168
            },
            "low_freq_model": {
                "model": [
                    "Hbv_2"
                ],
                "nmul": 1,
                "warm_up": 0,
                "warm_up_states": true,
                "dy_drop": 0.0,
                "dynamic_params": {
                    "Hbv_2": [
                        "parBETA",
                        "parK0",
                        "parBETAET"
                    ]
                },
                "routing": false,
                "use_log_norm": [],
                "nearzero": 1e-05,
                "forcings": [
                    "P",
                    "Temp",
                    "PET"
                ],
                "attributes": [],
                "window_size": 351
            }
        },
        "nn_model": {
            "sub_batch_size": 100,
            "high_freq_model": {
                "model": "LstmMlp2Model",
                "lstm_dropout": 0.1,
                "lstm_hidden_size": 32,
                "mlp_dropout": 0.1,
                "mlp_hidden_size": 64,
                "mlp2_dropout": 0.1,
                "mlp2_hidden_size": 64,
                "forcings": [
                    "P",
                    "Temp",
                    "PET"
                ],
                "attributes": [
                    "aridity",
                    "meanP",
                    "ETPOT_Hargr",
                    "NDVI",
                    "FW",
                    "meanslope",
                    "SoilGrids1km_sand",
                    "SoilGrids1km_clay",
                    "SoilGrids1km_silt",
                    "glaciers",
                    "HWSD_clay",
                    "HWSD_gravel",
                    "HWSD_sand",
                    "HWSD_silt",
                    "meanelevation",
                    "meanTa",
                    "permafrost",
                    "permeability",
                    "seasonality_P",
                    "seasonality_PET",
                    "snow_fraction",
                    "snowfall_fraction",
                    "T_clay",
                    "T_gravel",
                    "T_sand",
                    "T_silt",
                    "Porosity",
                    "catchsize"
                ],
                "attributes2": [
                    "aridity",
                    "NDVI",
                    "FW",
                    "meanslope",
                    "SoilGrids1km_sand",
                    "SoilGrids1km_clay",
                    "SoilGrids1km_silt",
                    "glaciers",
                    "HWSD_clay",
                    "HWSD_gravel",
                    "HWSD_sand",
                    "HWSD_silt",
                    "meanelevation",
                    "permafrost",
                    "permeability",
                    "snow_fraction",
                    "T_clay",
                    "T_gravel",
                    "T_sand",
                    "T_silt",
                    "Porosity",
                    "catchsize",
                    "lengthkm"
                ]
            },
            "low_freq_model": {
                "model": "LstmMlpModel",
                "lstm_dropout": 0.1,
                "lstm_hidden_size": 32,
                "mlp_dropout": 0.1,
                "mlp_hidden_size": 64,
                "forcings": [
                    "P",
                    "Temp",
                    "PET"
                ],
                "attributes": [
                    "aridity",
                    "meanP",
                    "ETPOT_Hargr",
                    "NDVI",
                    "FW",
                    "meanslope",
                    "SoilGrids1km_sand",
                    "SoilGrids1km_clay",
                    "SoilGrids1km_silt",
                    "glaciers",
                    "HWSD_clay",
                    "HWSD_gravel",
                    "HWSD_sand",
                    "HWSD_silt",
                    "meanelevation",
                    "meanTa",
                    "permafrost",
                    "permeability",
                    "seasonality_P",
                    "seasonality_PET",
                    "snow_fraction",
                    "snowfall_fraction",
                    "T_clay",
                    "T_gravel",
                    "T_sand",
                    "T_silt",
                    "Porosity",
                    "catchsize"
                ]
            },
            "learning_rate": 0.001,
            "lr_scheduler": "None",
            "lr_scheduler_params": {
                "step_size": 10,
                "gamma": 0.5
            }
        }
    },
    "observations": {
        "name": "camels-hydrofabric",
        "observation": {
            "path_forcing": "/storage/group/cxs1024/default/wby5078/raw_data/Camels_hourly/forcing/",
            "path_attrs": "/storage/group/cxs1024/default/wby5078/raw_data/CONUS3000/hydrofabric_attrs.nc",
            "path_topo": "/storage/group/cxs1024/default/wby5078/raw_data/Camels_hourly/gage_hf.json",
            "path_runoff": "/storage/group/cxs1024/default/wby5078/raw_data/Camels_hourly/runoff.nc",
            "path_gauges": "/storage/group/cxs1024/default/wby5078/raw_data/Camels_hourly/gage_info.csv",
            "path_units": "/storage/group/cxs1024/default/wby5078/raw_data/CONUS3000/conus_nextgen.gpkg",
            "runoff_start_time": "1979-01-01 13:00:00"
        },
        "preprocessing": {
            "path_stats": "/storage/group/cxs1024/default/wby5078/data/distributed-ds-camels/trained_models/stats_quantile0_1990_2003.json",
            "path_preprocess": "/storage/group/cxs1024/default/wby5078/data/distributed-ds-camels/trained_models/preprocessor_quantile0_1990_2003.json"
        }
    }
}
